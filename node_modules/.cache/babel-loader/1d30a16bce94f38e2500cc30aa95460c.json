{"ast":null,"code":"var _jsxFileName = \"/home/crazy_reborn/the_odin_project/jhunt-client/src/components/Applications/ApplicationDetailed.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport parseISO from 'date-fns/parseISO';\nimport LoadingSpinner from '../LoadingSpinner';\nimport ApplicationDelete from './ApplicationDelete';\nimport ApplicationUpdateForm from './ApplicationUpdateForm';\nimport ErrorPopUp from './ErrorPopUp';\nimport CanvasJsReactComponent from '../../canvasjs.react';\nimport '../../styles/ApplicationDetailed.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CanvasJs = CanvasJsReactComponent.CanvasJS;\nconst CanvasJsChart = CanvasJsReactComponent.CanvasJSChart;\nexport default function ApplicationDetailed() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [application, setApplication] = useState('');\n  const [errors, setErrors] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  const [gotErr, setGotErr] = useState(false);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_SERVER}applications/${id}`, {\n      method: 'GET',\n      credentials: 'include'\n    }).then(res => res.json()).then(json => {\n      if (json.application !== undefined) {\n        setApplication(json.application);\n        setLoaded(true);\n      } else {\n        setErrors(json.err.errors);\n        setLoaded(true);\n      }\n    }).catch(err => setErrors([err])).finally(() => {\n      if (errors.length > 0) {\n        setGotErr(true);\n      } else {\n        setGotErr(false);\n      }\n    });\n  }, [updating]);\n  return loaded ? /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"detailed\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: ['Company: ', application.company_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ['Position: ', application.position]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ['Salary: ', application.salary, \"PLN per month\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ['Status: ', application.status]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ['Date: ', typeof application.date === 'undefined' ? '' : format(parseISO(application.date), 'yyyy-MM-dd')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: application.jobLink,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: \"Job link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: ['Qualifications: ', application.qualifications_met]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"application-btns\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-update\",\n        type: \"button\",\n        onClick: () => setUpdating(true),\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ApplicationDelete, {\n        application: application\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(ApplicationUpdateForm, {\n      updating: updating,\n      setUpdating: setUpdating,\n      application: application\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(ErrorPopUp, {\n      errors: errors,\n      gotErr: gotErr,\n      setGotErr: setGotErr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ApplicationDetailed, \"YNAu+/W03xt7W6E9ejsStExkUzM=\", false, function () {\n  return [useParams];\n});\n\n_c = ApplicationDetailed;\n\nvar _c;\n\n$RefreshReg$(_c, \"ApplicationDetailed\");","map":{"version":3,"sources":["/home/crazy_reborn/the_odin_project/jhunt-client/src/components/Applications/ApplicationDetailed.js"],"names":["React","useEffect","useState","useParams","format","parseISO","LoadingSpinner","ApplicationDelete","ApplicationUpdateForm","ErrorPopUp","CanvasJsReactComponent","CanvasJs","CanvasJS","CanvasJsChart","CanvasJSChart","ApplicationDetailed","id","application","setApplication","errors","setErrors","loaded","setLoaded","updating","setUpdating","gotErr","setGotErr","fetch","process","env","REACT_APP_API_SERVER","method","credentials","then","res","json","undefined","err","catch","finally","length","company_name","position","salary","status","date","jobLink","qualifications_met"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport parseISO from 'date-fns/parseISO';\nimport LoadingSpinner from '../LoadingSpinner';\nimport ApplicationDelete from './ApplicationDelete';\nimport ApplicationUpdateForm from './ApplicationUpdateForm';\nimport ErrorPopUp from './ErrorPopUp';\nimport CanvasJsReactComponent from '../../canvasjs.react';\nimport '../../styles/ApplicationDetailed.css';\n\nconst CanvasJs = CanvasJsReactComponent.CanvasJS;\nconst CanvasJsChart = CanvasJsReactComponent.CanvasJSChart;\n\nexport default function ApplicationDetailed() {\n  const { id } = useParams();\n  const [application, setApplication] = useState('');\n  const [errors, setErrors] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  const [gotErr, setGotErr] = useState(false);\n  \n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_SERVER}applications/${id}`, {\n      method: 'GET',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.application !== undefined) {\n          setApplication(json.application);\n          setLoaded(true);\n        } else {\n          setErrors(json.err.errors);\n          setLoaded(true);\n        }\n      })\n      .catch((err) => setErrors([err]))\n      .finally(() => {\n        if (errors.length > 0) {\n          setGotErr(true);\n        } else {\n          setGotErr(false);\n        }\n      });\n  }, [updating]);\n\n  return (\n    loaded\n      ? (\n        <article className=\"detailed\">\n          <h2>\n            {'Company: '}\n            {application.company_name}\n          </h2>\n          <p>\n            {'Position: '}\n            {application.position}\n          </p>\n          <p>\n            {'Salary: '}\n            {application.salary}\n            PLN per month\n          </p>\n          <p>\n            {'Status: '}\n            {application.status}\n          </p>\n          <p>\n            {'Date: '}\n            {typeof application.date === 'undefined'\n              ? ''\n              : format(parseISO(application.date), 'yyyy-MM-dd')}\n          </p>\n          <p>\n            <a\n              href={application.jobLink}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Job link\n            </a>\n          </p>\n          <p>\n            {'Qualifications: '}\n            {application.qualifications_met}\n          </p>\n          <div className=\"application-btns\">\n            <button\n              className=\"btn-update\"\n              type=\"button\"\n              onClick={() => setUpdating(true)}\n            >\n              Update\n            </button>\n            <ApplicationDelete application={application} />\n          </div>\n          <ApplicationUpdateForm\n            updating={updating}\n            setUpdating={setUpdating}\n            application={application}\n          />\n          <ErrorPopUp errors={errors} gotErr={gotErr} setGotErr={setGotErr} />\n        </article>\n      )\n      : <LoadingSpinner />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}