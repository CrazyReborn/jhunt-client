{"ast":null,"code":"import _slicedToArray from\"/home/crazy_reborn/the_odin_project/jhunt-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/prop-types */import React,{useState}from'react';import ReactDOM from'react-dom';import{format}from'date-fns';import parseISO from'date-fns/parseISO';import{ReactComponent as CloseLogo}from'../../images/close_black_24dp.svg';import ErrorPopUp from'./ErrorPopUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ApplicationUpdateForm(_ref){var application=_ref.application,updating=_ref.updating,setUpdating=_ref.setUpdating;var _useState=useState(application.company_name),_useState2=_slicedToArray(_useState,2),companyName=_useState2[0],setCompanyName=_useState2[1];var _useState3=useState(application.position),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPosition=_useState4[1];var _useState5=useState(application.salary),_useState6=_slicedToArray(_useState5,2),salary=_useState6[0],setSalary=_useState6[1];var _useState7=useState(application.status),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState(application.location),_useState10=_slicedToArray(_useState9,2),location=_useState10[0],setLocation=_useState10[1];var _useState11=useState(format(parseISO(application.date),'yyyy-MM-dd')),_useState12=_slicedToArray(_useState11,2),date=_useState12[0],setDate=_useState12[1];var _useState13=useState(application.jobLink),_useState14=_slicedToArray(_useState13,2),jobLink=_useState14[0],setJobLink=_useState14[1];var _useState15=useState(application.qualifications_met),_useState16=_slicedToArray(_useState15,2),qualificationsMet=_useState16[0],setQualificationsMet=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setErrors=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),gotErr=_useState20[0],setGotErr=_useState20[1];var _onSubmit=function onSubmit(e){e.preventDefault();fetch(\"\".concat(process.env.REACT_APP_API_SERVER,\"applications/\").concat(application._id),{method:'PUT',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify({companyName:companyName,position:position,salary:salary,status:status,location:location,jobLink:jobLink,date:date,qualificationsMet:qualificationsMet})}).then(function(res){return res.json();}).then(function(json){if(typeof json.msg!=='undefined'){setUpdating(false);}else{setErrors(json.err.errors);}setGotErr(errors.length>0);}).catch(function(err){return setErrors(err);});};if(updating===false)return null;return/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(\"div\",{className:\"new-application-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"new-application\",onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Update application\"}),/*#__PURE__*/_jsx(CloseLogo,{className:\"new-application-close\",onClick:function onClick(){return setUpdating(false);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"companyName\",children:[\"Company Name\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",id:\"companyName\",value:companyName,onChange:function onChange(e){return setCompanyName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"position\",children:[\"Position\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",id:\"position\",value:position,onChange:function onChange(e){return setPosition(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"salary\",children:[\"Salary\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"number\",id:\"salary\",value:salary,onChange:function onChange(e){return setSalary(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"status\",children:[\"Status\",/*#__PURE__*/_jsxs(\"select\",{defaultValue:status,id:\"status\",onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"--Please select an option--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Application sent\",children:\"Application sent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"No answer\",children:\"No answer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"No offer\",children:\"No offer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Phone call\",children:\"Phone call\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Interview\",children:\"Interview\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Offered\",children:\"Offered\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"date\",children:[\"Select date\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"location\",children:[\"Location\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",id:\"location\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"jobLink\",children:[\"Link to the offer:\",/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",id:\"jobLink\",value:jobLink,onChange:function onChange(e){return setJobLink(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"qualificationsMet\",children:[\"Qualifications:\",/*#__PURE__*/_jsxs(\"select\",{defaultValue:qualificationsMet,id:\"qualificationsMet\",onChange:function onChange(e){return setQualificationsMet(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"--Please select an option--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fully met\",children:\"Fully met\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mostly met\",children:\"Mostly met\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Half are met\",children:\"Half are met\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mostly unmet\",children:\"Mostly unmet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fully unmet\",children:\"Fully unmet\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),gotErr&&/*#__PURE__*/_jsx(ErrorPopUp,{errors:errors,gotErr:gotErr,setGotErr:setGotErr})]})}),document.getElementById('portal'));}","map":{"version":3,"sources":["/home/crazy_reborn/the_odin_project/jhunt-client/src/components/Applications/ApplicationUpdateForm.js"],"names":["React","useState","ReactDOM","format","parseISO","ReactComponent","CloseLogo","ErrorPopUp","ApplicationUpdateForm","application","updating","setUpdating","company_name","companyName","setCompanyName","position","setPosition","salary","setSalary","status","setStatus","location","setLocation","date","setDate","jobLink","setJobLink","qualifications_met","qualificationsMet","setQualificationsMet","errors","setErrors","gotErr","setGotErr","onSubmit","e","preventDefault","fetch","process","env","REACT_APP_API_SERVER","_id","method","credentials","headers","body","JSON","stringify","then","res","json","msg","err","length","catch","createPortal","target","value","document","getElementById"],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { format } from 'date-fns';\nimport parseISO from 'date-fns/parseISO';\nimport { ReactComponent as CloseLogo } from '../../images/close_black_24dp.svg';\nimport ErrorPopUp from './ErrorPopUp';\n\nexport default function ApplicationUpdateForm({\n  application,\n  updating,\n  setUpdating,\n}) {\n  const [companyName, setCompanyName] = useState(application.company_name);\n  const [position, setPosition] = useState(application.position);\n  const [salary, setSalary] = useState(application.salary);\n  const [status, setStatus] = useState(application.status);\n  const [location, setLocation] = useState(application.location);\n  const [date, setDate] = useState(format(parseISO(application.date), 'yyyy-MM-dd'));\n  const [jobLink, setJobLink] = useState(application.jobLink);\n  const [qualificationsMet, setQualificationsMet] = useState(application.qualifications_met);\n  const [errors, setErrors] = useState([]);\n  const [gotErr, setGotErr] = useState(false);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    fetch(`${process.env.REACT_APP_API_SERVER}applications/${application._id}`, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        companyName,\n        position,\n        salary,\n        status,\n        location,\n        jobLink,\n        date,\n        qualificationsMet,\n      }),\n    }).then((res) => res.json())\n      .then((json) => {\n        if (typeof json.msg !== 'undefined') {\n          setUpdating(false);\n        } else {\n          setErrors(json.err.errors);\n        }\n        setGotErr(errors.length > 0);\n      })\n      .catch((err) => setErrors(err));\n  };\n\n  if (updating === false) return null;\n  return ReactDOM.createPortal(\n    <div className=\"new-application-container\">\n      <form className=\"new-application\" onSubmit={(e) => onSubmit(e)}>\n        <div className=\"sub-container\">\n          <h3>Update application</h3>\n          <CloseLogo className=\"new-application-close\" onClick={() => setUpdating(false)} />\n        </div>\n        <label htmlFor=\"companyName\">\n          Company Name\n          <input autoComplete=\"off\" type=\"text\" id=\"companyName\" value={companyName} onChange={(e) => setCompanyName(e.target.value)} />\n        </label>\n        <label htmlFor=\"position\">\n          Position\n          <input autoComplete=\"off\" type=\"text\" id=\"position\" value={position} onChange={(e) => setPosition(e.target.value)} />\n        </label>\n        <label htmlFor=\"salary\">\n          Salary\n          <input autoComplete=\"off\" type=\"number\" id=\"salary\" value={salary} onChange={(e) => setSalary(e.target.value)} />\n        </label>\n        <label htmlFor=\"status\">\n          Status\n          <select defaultValue={status} id=\"status\" onChange={(e) => setStatus(e.target.value)}>\n            <option value={null}>--Please select an option--</option>\n            <option value=\"Application sent\">Application sent</option>\n            <option value=\"No answer\">No answer</option>\n            <option value=\"No offer\">No offer</option>\n            <option value=\"Phone call\">Phone call</option>\n            <option value=\"Interview\">Interview</option>\n            <option value=\"Offered\">Offered</option>\n          </select>\n        </label>\n        <label htmlFor=\"date\">\n          Select date\n          <input autoComplete=\"off\" type=\"date\" value={date} onChange={(e) => setDate(e.target.value)} />\n        </label>\n        <label htmlFor=\"location\">\n          Location\n          <input autoComplete=\"off\" type=\"text\" id=\"location\" value={location} onChange={(e) => setLocation(e.target.value)} />\n        </label>\n        <label htmlFor=\"jobLink\">\n          Link to the offer:\n          <input autoComplete=\"off\" type=\"text\" id=\"jobLink\" value={jobLink} onChange={(e) => setJobLink(e.target.value)} />\n        </label>\n        <label htmlFor=\"qualificationsMet\">\n          Qualifications:\n          <select defaultValue={qualificationsMet} id=\"qualificationsMet\" onChange={(e) => setQualificationsMet(e.target.value)}>\n            <option value={null}>--Please select an option--</option>\n            <option value=\"Fully met\">Fully met</option>\n            <option value=\"Mostly met\">Mostly met</option>\n            <option value=\"Half are met\">Half are met</option>\n            <option value=\"Mostly unmet\">Mostly unmet</option>\n            <option value=\"Fully unmet\">Fully unmet</option>\n          </select>\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n        {gotErr && <ErrorPopUp errors={errors} gotErr={gotErr} setGotErr={setGotErr} />}\n      </form>\n    </div>,\n    document.getElementById('portal'),\n  );\n}\n"]},"metadata":{},"sourceType":"module"}