{"ast":null,"code":"import _slicedToArray from\"/home/crazy_reborn/the_odin_project/jhunt-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import ErrorPopUp from'./Applications/ErrorPopUp';import'../styles/SignUp.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),gotErr=_useState8[0],setGotErr=_useState8[1];var navigate=useNavigate();var _onSubmit=function onSubmit(e){e.preventDefault();fetch(\"\".concat(process.env.REACT_APP_API_SERVER,\"signin\"),{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({username:username,password:password})}).then(function(res){return res.json();}).then(function(json){if(typeof json.err!=='undefined'){setError(json.err.errors);}else{navigate('/dashboard/applications');}});};useEffect(function(){setGotErr(errors.length>0);},[errors]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",children:['Username: ',/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"text\",name:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:['Password: ',/*#__PURE__*/_jsx(\"input\",{autoComplete:\"off\",type:\"password\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:['Don\\'t have an account yet? ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn-action\",type:\"submit\",value:\"Sign In\"})]}),gotErr&&/*#__PURE__*/_jsx(ErrorPopUp,{errors:errors,gotErr:gotErr,setGotErr:setGotErr})]});}","map":{"version":3,"sources":["/home/crazy_reborn/the_odin_project/jhunt-client/src/components/SignIn.js"],"names":["React","useEffect","useState","Link","useNavigate","ErrorPopUp","SignIn","username","setUsername","password","setPassword","errors","setError","gotErr","setGotErr","navigate","onSubmit","e","preventDefault","fetch","process","env","REACT_APP_API_SERVER","method","headers","credentials","body","JSON","stringify","then","res","json","err","length","target","value"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAO,sBAAP,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA2BR,QAAQ,CAAC,EAAD,CAAnC,yCAAOS,MAAP,eAAeC,QAAf,eACA,eAA4BV,QAAQ,CAAC,KAAD,CAApC,yCAAOW,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACAC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,oBAAhB,WAA8C,CACjDC,MAAM,CAAE,MADyC,CAEjDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFwC,CAKjDC,WAAW,CAAE,SALoC,CAMjDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAErB,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAf,CAN2C,CAA9C,CAAL,CAQGoB,IARH,CAQQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EARR,EASGF,IATH,CASQ,SAACE,IAAD,CAAU,CACd,GAAI,MAAOA,CAAAA,IAAI,CAACC,GAAZ,GAAoB,WAAxB,CAAqC,CACnCpB,QAAQ,CAACmB,IAAI,CAACC,GAAL,CAASrB,MAAV,CAAR,CACD,CAFD,IAEO,CACLI,QAAQ,CAAC,yBAAD,CAAR,CACD,CACF,CAfH,EAgBD,CAlBD,CAoBAd,SAAS,CAAC,UAAM,CACda,SAAS,CAACH,MAAM,CAACsB,MAAP,CAAgB,CAAjB,CAAT,CACD,CAFQ,CAEN,CAACtB,MAAD,CAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,cAAM,QAAQ,CAAE,kBAACM,CAAD,QAAOD,CAAAA,SAAQ,CAACC,CAAD,CAAf,EAAhB,wBACE,eAAO,OAAO,CAAC,UAAf,WACG,YADH,cAEE,cAAO,YAAY,CAAC,KAApB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,IAAI,CAAC,UAA3C,CAAsD,KAAK,CAAEV,QAA7D,CAAuE,QAAQ,CAAE,kBAACU,CAAD,QAAOT,CAAAA,WAAW,CAACS,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAAjF,EAFF,GADF,cAKE,eAAO,OAAO,CAAC,UAAf,WACG,YADH,cAEE,cAAO,YAAY,CAAC,KAApB,CAA0B,IAAI,CAAC,UAA/B,CAA0C,IAAI,CAAC,UAA/C,CAA0D,KAAK,CAAE1B,QAAjE,CAA2E,QAAQ,CAAE,kBAACQ,CAAD,QAAOP,CAAAA,WAAW,CAACO,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAArF,EAFF,GALF,cASE,qBACG,8BADH,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,qBAFF,GATF,cAaE,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,QAAnC,CAA4C,KAAK,CAAC,SAAlD,EAbF,GADF,CAgBGtB,MAAM,eAAI,KAAC,UAAD,EAAY,MAAM,CAAEF,MAApB,CAA4B,MAAM,CAAEE,MAApC,CAA4C,SAAS,CAAEC,SAAvD,EAhBb,GADF,CAoBD","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport ErrorPopUp from './Applications/ErrorPopUp';\nimport '../styles/SignUp.css';\n\nexport default function SignIn() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setError] = useState([]);\n  const [gotErr, setGotErr] = useState(false);\n  const navigate = useNavigate();\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    fetch(`${process.env.REACT_APP_API_SERVER}signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      credentials: 'include',\n      body: JSON.stringify({ username, password }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (typeof json.err !== 'undefined') {\n          setError(json.err.errors);\n        } else {\n          navigate('/dashboard/applications');\n        }\n      });\n  };\n\n  useEffect(() => {\n    setGotErr(errors.length > 0);\n  }, [errors]);\n\n  return (\n    <div className=\"sign-up\">\n      <form onSubmit={(e) => onSubmit(e)}>\n        <label htmlFor=\"username\">\n          {'Username: '}\n          <input autoComplete=\"off\" type=\"text\" name=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\n        </label>\n        <label htmlFor=\"password\">\n          {'Password: '}\n          <input autoComplete=\"off\" type=\"password\" name=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </label>\n        <p>\n          {'Don\\'t have an account yet? '}\n          <Link to=\"/signup\">Sign Up</Link>\n        </p>\n        <input className=\"btn-action\" type=\"submit\" value=\"Sign In\" />\n      </form>\n      {gotErr && <ErrorPopUp errors={errors} gotErr={gotErr} setGotErr={setGotErr} />}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}