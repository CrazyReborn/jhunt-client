{"ast":null,"code":"import _slicedToArray from\"/home/crazy_reborn/the_odin_project/jhunt-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/prop-types */import React,{useState}from'react';import{useNavigate}from'react-router-dom';import ErrorPopUp from'./ErrorPopUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ApplicationDelete(props){var application=props.application;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),gotErr=_useState2[0],setGotErr=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var navigate=useNavigate();var _onSubmit=function onSubmit(e){e.preventDefault();fetch(\"\".concat(process.env.REACT_APP_API_SERVER,\"applications/\").concat(application._id),{method:'DELETE',credentials:'include'}).then(function(res){return res.json();}).then(function(json){if(json.msg!==undefined){navigate('../applications/',{replace:true});}else{setErrors(json.err.errors);setGotErr(errors.length>0);}}).catch(function(err){setErrors(err);setGotErr(errors.length>0);});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"input\",{className:\"btn-delete\",type:\"submit\",value:\"Delete\"}),gotErr&&/*#__PURE__*/_jsx(ErrorPopUp,{errors:errors,gotErr:gotErr,setGotErr:setGotErr})]});}","map":{"version":3,"sources":["/home/crazy_reborn/the_odin_project/jhunt-client/src/components/Applications/ApplicationDelete.js"],"names":["React","useState","useNavigate","ErrorPopUp","ApplicationDelete","props","application","gotErr","setGotErr","errors","setErrors","navigate","onSubmit","e","preventDefault","fetch","process","env","REACT_APP_API_SERVER","_id","method","credentials","then","res","json","msg","undefined","replace","err","length","catch"],"mappings":"sIAAA,qCACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,cAAe,SAASC,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CAC/C,GAAQC,CAAAA,WAAR,CAAwBD,KAAxB,CAAQC,WAAR,CACA,cAA4BL,QAAQ,CAAC,KAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAA4BP,QAAQ,CAAC,EAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACAC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,oBAAhB,yBAAoDZ,WAAW,CAACa,GAAhE,EAAuE,CAC1EC,MAAM,CAAE,QADkE,CAE1EC,WAAW,CAAE,SAF6D,CAAvE,CAAL,CAIGC,IAJH,CAIQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAJR,EAKGF,IALH,CAKQ,SAACE,IAAD,CAAU,CACd,GAAIA,IAAI,CAACC,GAAL,GAAaC,SAAjB,CAA4B,CAC1Bf,QAAQ,CAAC,kBAAD,CAAqB,CAAEgB,OAAO,CAAE,IAAX,CAArB,CAAR,CACD,CAFD,IAEO,CACLjB,SAAS,CAACc,IAAI,CAACI,GAAL,CAASnB,MAAV,CAAT,CACAD,SAAS,CAACC,MAAM,CAACoB,MAAP,CAAgB,CAAjB,CAAT,CACD,CACF,CAZH,EAaGC,KAbH,CAaS,SAACF,GAAD,CAAS,CACdlB,SAAS,CAACkB,GAAD,CAAT,CACApB,SAAS,CAACC,MAAM,CAACoB,MAAP,CAAgB,CAAjB,CAAT,CACD,CAhBH,EAiBD,CAnBD,CAoBA,mBACE,cAAM,QAAQ,CAAE,kBAAChB,CAAD,QAAOD,CAAAA,SAAQ,CAACC,CAAD,CAAf,EAAhB,wBACE,cAAO,SAAS,CAAC,YAAjB,CAA8B,IAAI,CAAC,QAAnC,CAA4C,KAAK,CAAC,QAAlD,EADF,CAEGN,MAAM,eAAI,KAAC,UAAD,EAAY,MAAM,CAAEE,MAApB,CAA4B,MAAM,CAAEF,MAApC,CAA4C,SAAS,CAAEC,SAAvD,EAFb,GADF,CAMD","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ErrorPopUp from './ErrorPopUp';\n\nexport default function ApplicationDelete(props) {\n  const { application } = props;\n  const [gotErr, setGotErr] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const navigate = useNavigate();\n  const onSubmit = (e) => {\n    e.preventDefault();\n    fetch(`${process.env.REACT_APP_API_SERVER}applications/${application._id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.msg !== undefined) {\n          navigate('../applications/', { replace: true });\n        } else {\n          setErrors(json.err.errors);\n          setGotErr(errors.length > 0);\n        }\n      })\n      .catch((err) => {\n        setErrors(err);\n        setGotErr(errors.length > 0);\n      });\n  };\n  return (\n    <form onSubmit={(e) => onSubmit(e)}>\n      <input className=\"btn-delete\" type=\"submit\" value=\"Delete\" />\n      {gotErr && <ErrorPopUp errors={errors} gotErr={gotErr} setGotErr={setGotErr} />}\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}